function [states_1,initial_1] = overall(hd2,hd3,hd5,ur2,initial_0,Time_int)
Time_g=0:Time_int:Time_int;
Tau=[0.2,0.2,0.2,0.2,0.2,0.2,0.2];
Omega=[0.8,0.7,0.7,0.8,2,2,0.8];
Kd=Omega;
Kp=Omega.^2;
hd6=1.3;

A11=[0,1,0,0;0,0,1,0;0,0,-1/Tau(1),0;0,0,0,0];
A21=[0;0;1/Tau(2);0]*[Kp(2),Kd(2),0,0];
A22=[0,1,0,0;0,0,1,0;0,0,-1/Tau(2),0;0,0,0,-1/hd2]+[0;0;1/Tau(2);0]*[-Kp(2),-Kd(2)-Kp(2)*hd2,-Kd(2)*hd2,1];
A33=[0,1,0,0;0,0,1,0;0,0,-1/Tau(3),0;0,0,0,-1/hd3]+[0;0;1/Tau(3);0]*[-Kp(3),-Kd(3)-Kp(3)*hd3,-Kd(3)*hd3,1];
A32=[0;0;1/Tau(3);0]*[Kp(3),Kd(3),0,0]+[0;0;0;Tau(3)/hd3]*A22(3,:)+[0;0;0;1/hd3]*[0,0,1,0];
A31=[0;0;0;Tau(3)/hd3]*A21(3,:);
A43=[0,0,0,0;0,0,0,0;0,0.477,-0.368,0;0,0,0,0];
A44=[0,1,0,0;0,0,1,0;0,-0.477,-0.923,0;0,0,0,0];
A55=[0,1,0,0;0,0,1,0;0,0,-1/Tau(5),0;0,0,0,-1/hd5]+[0;0;1/Tau(5);0]*[-Kp(5),-Kd(5)-Kp(5)*hd5,-Kd(5)*hd5,0];
A54=[0;0;1/Tau(5);0]*[Kp(5),Kd(5),0,0]+[0;0;0;Tau(5)/hd5]*A44(3,:)+[0;0;0;1/hd5]*[0,0,1,0];
A53=[0;0;0;Tau(5)/hd5]*A43(3,:);
A66=[0,1,0,0;0,0,1,0;0,0,-1/Tau(6),0;0,0,0,-1/hd6]+[0;0;1/Tau(6);0]*[-Kp(6),-Kd(6)-Kp(6)*hd6,-Kd(6)*hd6,0];
A65=[0;0;1/Tau(6);0]*[Kp(6),Kd(6),0,0];
A76=[0,0,0,0;0,0,0,0;0,0.477,-0.368,0;0,0,0,0];
A77=[0,1,0,0;0,0,1,0;0,-0.477,-0.923,0;0,0,0,0];


B1=[0;0;1/Tau(1);0];
B2=[0;0;0;1/hd2];

An0=[A11,zeros(4,24);A21,A22,zeros(4,20);A31,A32,A33,zeros(4,16);zeros(4,8),A43,A44,zeros(4,12);zeros(4,8),A53,A54,A55,zeros(4,8);zeros(4,16),A65,A66,zeros(4,4);zeros(4,20),A76,A77;];
Bn0=[B1;B2;zeros(20,1)];

Cn0=eye(28);

Cv0=zeros(7,28);
for i=1:7
Cv0(i,2+4*(i-1))=1;
end

Caa=zeros(7,28);
for i=1:7
    Caa(i,3+4*(i-1))=1;
end

Cjj=zeros(7,28);
for i=1:7
    Cjj(i,:)=An0(3+4*(i-1),:);
end


C0=zeros(7,7);
for i=1:7
    C0(i,i)=Tau(i);
end

C00=C0*Cjj+Caa;

Cxx=zeros(6,28);
Cva=zeros(6,28);

for i=1:6;
    Cxx(i,1+4*(i-1))=1;
    Cxx(i,5+4*(i-1))=-1;
    Cva(i,2+4*(i-1))=-1;
    Cva(i,6+4*(i-1))=1;
end
    
    
    
    
Ce0=[Cjj;C00;Cv0;Cxx;Cva];


Dn0=zeros(28,1);
Dn1=zeros(33,1);

sysh0=ss(An0,Bn0,Cn0,Dn0);
sysh1=ss(An0,Bn0,Ce0,Dn1);
H0=lsim(sysh0,ur2,Time_g,initial_0);
H1=lsim(sysh1,ur2,Time_g,initial_0);
states_1=H1;
initial_1=H0(2,:);